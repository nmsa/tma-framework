"use strict";(self.webpackChunktma_dashboard=self.webpackChunktma_dashboard||[]).push([[606],{6117:function(e,n,r){var t=r(1413),s=r(885),i=r(2791),a=r(6739),o=r(1460),l=r(834),c=r(6871),d=r(184);n.Z=function(e){var n=(0,c.s0)(),r=(0,i.useState)({successPath:e.successPath,openModal:!1,messageType:null,message:null}),u=(0,s.Z)(r,2),h=u[0],p=u[1];function f(r,s){"success"===h.messageType&&n(h.successPath),e.modalInfo.openModal=!1,p((0,t.Z)((0,t.Z)({},h),{},{openModal:!1}))}return(0,i.useEffect)((function(){p((0,t.Z)((0,t.Z)({},h),{},{openModal:e.modalInfo.openModal,messageType:e.modalInfo.messageType,message:e.modalInfo.message}))}),[e]),(0,d.jsxs)(a.Z,{centered:!1,closeIcon:!0,open:h.openModal,onClose:f,children:[(0,d.jsx)(a.Z.Header,{children:"Message"}),(0,d.jsx)(a.Z.Content,{children:(0,d.jsx)(o.Z,{color:"success"===h.messageType?"green":"warning"===h.messageType?"orange":"red",children:(0,d.jsx)(o.Z.Header,{children:h.message})})}),(0,d.jsx)(a.Z.Actions,{children:(0,d.jsx)(l.Z,{color:"grey",onClick:f,children:"Close"})})]})}},6606:function(e,n,r){r.r(n);var t=r(5861),s=r(885),i=r(7757),a=r.n(i),o=r(4581),l=r(2966),c=r(4863),d=r(2417),u=r(6605),h=r(899),p=r(9402),f=r(6303),m=r(5409),Z=r(2791),g=r(2043),x=r(5392),v=r(5051),j=r(6117),y=r(184);n.default=function(){var e=(0,Z.useState)(null),n=(0,s.Z)(e,2),r=n[0],i=n[1],b=(0,Z.useState)({}),w=(0,s.Z)(b,2),M=w[0],S=w[1],I=(0,Z.useState)(null),k=(0,s.Z)(I,2),O=k[0],N=k[1],C=(0,Z.useState)({openModal:!1}),D=(0,s.Z)(C,2),T=D[0],P=D[1],J=(0,Z.useState)(!1),Q=(0,s.Z)(J,2),q=Q[0],A=Q[1];function B(){return(B=(0,t.Z)(a().mark((function e(n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.Z)().getMetrics(n);case 2:r=e.sent,(0,g.Z)().convertMetrics(r,i);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return(R=(0,t.Z)(a().mark((function e(n,r){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=JSON.parse(JSON.stringify(M))).metricId=r.value,S(t),""===r.value){e.next=8;break}return e.next=6,(0,m.Z)().getMetricById(r.value,N);case 6:e.next=9;break;case 8:N(null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function E(e){if(q)if("modelName"===e){if(!(0,v.Z)().validStringOrDropDownSelection(M.modelName))return{content:"Please enter a name for the Quality Model",pointing:"above"}}else if("modelDescriptionReference"===e){if(!(0,v.Z)().validIntGreaterOrEqualThanZero(M.modelDescriptionReference))return{content:"Please enter an integer number >= 0",pointing:"above"}}else if("businessThreshold"===e){if(!(0,v.Z)().validFloatBetweenZeroAndOne(M.businessThreshold))return{content:"Please enter a float number where  0.0 <= number <= 1.0 ",pointing:"above"}}else if("metricId"===e&&!(0,v.Z)().validStringOrDropDownSelection(M.metricId))return{content:"Please choose a metric",pointing:"above"};return null}function F(){return(F=(0,t.Z)(a().mark((function e(n){var r,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(0,v.Z)().validStringOrDropDownSelection(M.modelName)){e.next=12;break}if(!(0,v.Z)().validStringOrDropDownSelection(M.metricId)){e.next=12;break}return(r=JSON.parse(JSON.stringify(M))).metric={metricId:M.metricId},delete r.metricId,e.next=8,(0,m.Z)().createQualityModel(r);case 8:return(t=e.sent).openModal=!0,P(t),e.abrupt("return");case 12:P({messageType:"error",message:"Please fill in all the required fields (marked with  * ) and respect the fields notes",openModal:!0}),A(!0);case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,Z.useEffect)((function(){!function(e){B.apply(this,arguments)}({createQualityModel:"true"})}),[]),(0,y.jsxs)("div",{children:[(0,y.jsx)(o.Z,{centered:!0,children:(0,y.jsx)(o.Z.Row,{children:(0,y.jsx)(o.Z.Column,{width:15,children:(0,y.jsx)(l.Z,{section:!0,horizontal:!0,children:(0,y.jsx)(c.Z,{as:"h1",textAlign:"center",children:" Create Quality Model"})})})})}),(0,y.jsx)("br",{}),null===r?(0,y.jsx)(d.Z,{active:!0,inline:"centered",children:" Retrieving content"}):(0,y.jsxs)("div",{children:[(0,y.jsx)(u.Z,{children:(0,y.jsxs)(h.Z,{children:[(0,y.jsx)(p.Z,{children:(0,y.jsxs)(p.Z.Group,{widths:"equal",children:[(0,y.jsx)(p.Z.Field,{children:(0,y.jsx)(p.Z.Input,{fluid:!0,required:!0,name:"modelName",label:"Name",onChange:function(e){var n=JSON.parse(JSON.stringify(M));n[e.currentTarget.name]=e.currentTarget.value,S(n)},error:E("modelName")})}),(0,y.jsx)(p.Z.Dropdown,{selectOnBlur:!1,selectOnNavigation:!1,required:!0,clearable:!0,search:!0,selection:!0,options:r,placeholder:"Filter metrics by something",label:"Associate Metric",onChange:function(e,n){return R.apply(this,arguments)},name:"metricId",error:E("metricId")}),(0,y.jsx)(p.Z.Button,{color:"grey",circular:!0,type:"submit",floated:"right",onClick:function(e){return F.apply(this,arguments)},children:"Create Quality Model"})]})}),(0,y.jsx)(l.Z,{section:!0,horizontal:!0,children:(0,y.jsx)(c.Z,{as:"h3",textAlign:"center",children:" Preview metrics tree"})}),null!==O?(0,y.jsx)(x.Z,{width:"100%",height:"50vh",data:O}):(0,y.jsxs)(f.Z,{active:!0,ribbon:!0,as:"b",color:"grey",children:[(0,y.jsx)(c.Z,{as:"h3",children:" Warning! "}),"Metrics tree will only be displayed once a metric is chosen"]})]})}),(0,y.jsx)(j.Z,{successPath:"/getQualityModels",modalInfo:T})]})]})}}}]);
//# sourceMappingURL=606.570af827.chunk.js.map