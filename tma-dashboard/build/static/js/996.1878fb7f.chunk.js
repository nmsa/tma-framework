"use strict";(self.webpackChunktma_dashboard=self.webpackChunktma_dashboard||[]).push([[996],{8996:function(e,t,n){n.r(t);var r=n(885),i=n(4581),o=n(2966),l=n(4863),s=n(2417),c=n(6605),a=n(899),u=n(9402),d=n(2836),f=n(5409),h=n(2791),g=n(6871),m=n(5392),x=n(184);t.default=function(){var e=(0,h.useState)(null),t=(0,r.Z)(e,2),n=t[0],p=t[1],j=(0,g.UO)().id;return(0,h.useEffect)((function(){(0,f.Z)().getMetricById(j,p)}),[]),(0,h.useEffect)((function(){console.log(n)}),[n]),(0,x.jsxs)("div",{children:[(0,x.jsx)(i.Z,{centered:!0,children:(0,x.jsx)(i.Z.Row,{children:(0,x.jsx)(i.Z.Column,{width:15,children:(0,x.jsx)(o.Z,{section:!0,horizontal:!0,children:(0,x.jsx)(l.Z,{as:"h1",textAlign:"center",children:" Metric Details"})})})})}),(0,x.jsx)("br",{}),null===n?(0,x.jsx)(s.Z,{active:!0,inline:"centered",children:" Retrieving content"}):(0,x.jsx)(c.Z,{children:(0,x.jsxs)(i.Z,{stackable:!0,columns:2,children:[(0,x.jsx)(i.Z.Column,{children:(0,x.jsxs)(a.Z,{children:[(0,x.jsx)(l.Z,{as:"h3",textAlign:"center",children:" Metric Information"}),(0,x.jsx)(o.Z,{}),(0,x.jsx)(u.Z,{widths:"equal",children:(0,x.jsxs)(u.Z.Group,{children:[(0,x.jsxs)(u.Z.Field,{children:[(0,x.jsx)("label",{children:"Id:"}),n.metricId]}),(0,x.jsxs)(u.Z.Field,{children:[(0,x.jsx)("label",{children:"Name:"}),n.metricName]}),(0,x.jsxs)(u.Z.Field,{children:[(0,x.jsx)("label",{children:"Leaf Attribute:"}),null===n.leafAttribute?(0,x.jsx)(d.Z,{color:"red",size:"big",name:"remove"}):(0,x.jsx)(d.Z,{color:"green",size:"big",name:"checkmark"})]}),null===n.leafAttribute?(0,x.jsxs)(u.Z.Field,{children:[(0,x.jsx)("label",{children:"Attribute Aggregation Operator:"}),{0:"Neutrality",1:"Simultaneity",2:"Replaceability"}[n.attributeAggregationOperator]]}):null]})})]})}),null===n.leafAttribute?(0,x.jsx)(i.Z.Column,{children:(0,x.jsxs)(a.Z,{children:[(0,x.jsx)(l.Z,{as:"h3",textAlign:"center",children:" Metrics tree"}),(0,x.jsx)(o.Z,{}),(0,x.jsx)(m.Z,{width:"100%",height:"50vh",data:n})]})}):(0,x.jsx)(i.Z.Column,{children:(0,x.jsxs)(a.Z,{children:[(0,x.jsx)(l.Z,{as:"h3",textAlign:"center",children:" Leaf Attribute information"}),(0,x.jsx)(o.Z,{}),(0,x.jsxs)(u.Z,{widths:"equal",children:[(0,x.jsxs)(u.Z.Group,{children:[(0,x.jsxs)(u.Z.Field,{children:[(0,x.jsx)("label",{children:"Description:"}),"[id = "+n.leafAttribute.description.descriptionId+"] "+n.leafAttribute.description.descriptionName+" ("+n.leafAttribute.description.unit+")"]}),(0,x.jsxs)(u.Z.Field,{children:[(0,x.jsx)("label",{children:"Metric Aggregation Operator:"}),{0:"Average",1:"Minimum",2:"Maximum",3:"Sum"}[n.leafAttribute.metricAggregationOperator]]}),(0,x.jsxs)(u.Z.Field,{children:[(0,x.jsx)("label",{children:"Number of Samples:"}),n.leafAttribute.numSamples]}),(0,x.jsxs)(u.Z.Field,{children:[(0,x.jsx)("label",{children:"Normalization Method:"}),n.leafAttribute.normalizationMethod]})]}),(0,x.jsxs)(u.Z.Group,{children:[(0,x.jsxs)(u.Z.Field,{children:[(0,x.jsx)("label",{children:"Normalization Kind:"}),{0:"BENEFIT",1:"COST",2:"Maximum",3:"Sum"}[n.leafAttribute.normalizationKind]]}),(0,x.jsxs)(u.Z.Field,{children:[(0,x.jsx)("label",{children:"Minimum Threshold:"}),n.leafAttribute.minimumThreshold]}),(0,x.jsxs)(u.Z.Field,{children:[(0,x.jsx)("label",{children:"Maximum Threshold:"}),n.leafAttribute.maximumThreshold]})]})]})]})})]})})]})}},5409:function(e,t,n){n.d(t,{Z:function(){return o}});var r=n(4569),i=n.n(r);var o=function(){var e="http://192.168.1.68:8080/";return{getMetrics:function(e){return i().get("http://192.168.1.68:8080/getMetrics",{params:e}).then((function(e){return e.data.metrics})).catch((function(e){return console.log("Error:",e.message),null}))},getMetricById:function(t,n){var r=e+"getMetrics/"+t;return i().get(r).then((function(e){n(e.data.metric)})).catch((function(e){return console.log("Error:",e.message),null}))},createMetric:function(e){return i().post("http://192.168.1.68:8080/createMetric",e).then((function(e){return e.data})).catch((function(e){return console.log("Error:",e.message),console.log("Error contents:",e.response),e.response.data}))},getDescriptions:function(e){return i().get("http://192.168.1.68:8080/getDescriptions",{params:e}).then((function(e){return e.data.descriptions})).catch((function(e){return console.log("Error:",e.message),null}))},getQualityModels:function(e,t){return i().get("http://192.168.1.68:8080/getQualityModels",{params:e}).then((function(e){t(e.data.qualityModels)})).catch((function(e){return console.log("Error:",e.message),null}))},getQualityModelById:function(t,n){var r=e+"getQualityModels/"+t;return i().get(r).then((function(e){n(e.data.qualityModel)})).catch((function(e){return console.log("Error:",e.message),null}))},createQualityModel:function(e){return i().post("http://192.168.1.68:8080/createQualityModel",e).then((function(e){return e.data})).catch((function(e){return console.log("Error:",e.message),console.log("Error contents:",e.response),e.response.data}))},createConfigurationProfile:function(e){return i().post("http://192.168.1.68:8080/createConfigurationProfile",e).then((function(e){return e.data})).catch((function(e){return console.log("Error:",e.message),console.log("Error contents:",e.response),e.response.data}))},getConfigurationProfileById:function(t,n){var r=e+"getConfigurationProfile/"+t;return i().get(r).then((function(e){n(e.data.configurationProfile)})).catch((function(e){return console.log("Error:",e.message),null}))},getActiveResources:function(e){return i().get("http://192.168.1.68:8080/getResources",{params:e}).then((function(e){return e.data.resources})).catch((function(e){return console.log("Error:",e.message),null}))},getResourceWeightsAndMetricsTree:function(t){var n=e+"getResources/"+t+"/weightedTree";return i().get(n).then((function(e){return e.data})).catch((function(e){return console.log("Error:",e.message),null}))},getConfigurationProfileListOfMetrics:function(t,n){var r=e+"getConfigurationProfile/"+t+"/listOfMetrics";return i().get(r,{params:n}).then((function(e){return e.data.listOfMetrics})).catch((function(e){return console.log("Error:",e.message),null}))},getResourceData:function(t,n){var r=e+"getResources/"+t+"/data";return i().get(r,{params:n}).then((function(e){return e.data.plotData})).catch((function(e){return console.log("Error:",e.message),null}))},getSimulationData:function(e){return i().patch("http://192.168.1.68:8080/simulateData",e).then((function(e){return e.data.simulationData})).catch((function(e){return console.log("Error:",e.message),null}))},getPlotsConfigs:function(){return i().get("http://192.168.1.68:8080/getPlotsConfigs").then((function(e){return e.data.plotsConfigs})).catch((function(e){return console.log("Error:",e.message),null}))},savePlotConfig:function(e){return i().post("http://192.168.1.68:8080/addPlotConfig",e).then((function(e){return e})).catch((function(e){return console.log("Error:",e.message),e.response}))},replacePlotConfig:function(e){return i().put("http://192.168.1.68:8080/replacePlotConfig",e).then((function(e){return e})).catch((function(e){return console.log("Error:",e.message),e.response}))},deletePlotConfig:function(t){var n=e+"deletePlotConfig/"+t;return i().delete(n).then((function(e){return e.status})).catch((function(e){return console.log("Error:",e.message),null}))},getRulesNames:function(e){return i().get("http://192.168.1.68:8080/getRules",{params:e}).then((function(e){return e.data.rulesNames})).catch((function(e){return console.log("Error:",e.message),null}))},getRuleCode:function(t){var n=e+"getRules/"+t;return i().get(n).then((function(e){return e.data.ruleDetail})).catch((function(e){return console.log("Error:",e.message),null}))},removeRule:function(t){var n=e+"removeRule/"+t;return i().delete(n).then((function(e){return e.data})).catch((function(e){return console.log("Error:",e.message),null}))},getActionsAndConfigsByResource:function(e){return i().get("http://192.168.1.68:8080/getActions/",{params:e}).then((function(e){return e.data})).catch((function(e){return console.log("Error:",e.message),null}))},createRule:function(e){return i().post("http://192.168.1.68:8080/addRule",e).then((function(e){return e.data})).catch((function(e){return console.log("Error:",e.message),console.log("Error contents:",e.response),e.response.data}))}}}},5392:function(e,t,n){n.d(t,{Z:function(){return h}});var r=n(7762),i=n(885),o=n(2791),l=n(972),s=n(834),c=n(2836),a=n(2417),u=n(184);var d=function(e){var t=(0,o.useState)({text:e.text.toString().split("\n")[0]}),n=(0,i.Z)(t,2),r=n[0],l=n[1];return(0,o.useEffect)((function(){if(!0===e.node){var t=e.text.split("\n"),n=JSON.parse(JSON.stringify(r));n.text=t[0],t.length>1&&(n.weightLabel=t[1]),l(n)}}),[e.text]),!1===e.node?(0,u.jsxs)("g",{transform:"translate("+e.x+","+e.y+")",children:[(0,u.jsx)("circle",{fill:"white",stroke:"#4287f5",strokeWidth:"2",r:"20"}),(0,u.jsx)("text",{textAnchor:"middle",dominantBaseline:"middle",fill:"black",children:e.text})]}):(0,u.jsxs)(o.Fragment,{children:[(0,u.jsx)("g",{transform:"translate("+e.x+","+e.y+")",children:(0,u.jsx)("text",{fill:"black",children:r.text})}),void 0!==r.weightLabel&&""!==r.weightLabel?(0,u.jsxs)("g",{transform:"translate("+e.x+","+e.y+")",children:[(0,u.jsx)("circle",{cx:e.x+e.width,cy:e.y+6*e.height,fill:"white",stroke:"#4287f5",strokeWidth:"2",r:"20"}),(0,u.jsx)("text",{textAnchor:"middle",dominantBaseline:"middle",x:e.x+e.width,y:e.y+6*e.height,fill:"black",children:r.weightLabel})]}):null]})};function f(e,t){var n=e.data,f=(0,o.useState)([]),h=(0,i.Z)(f,2),g=h[0],m=h[1],x=(0,o.useState)([]),p=(0,i.Z)(x,2),j=p[0],Z=p[1],b=(0,o.useState)(!1),v=(0,i.Z)(b,2),E=v[0],y=v[1],A=(0,o.useRef)(),M=(0,o.useRef)(),C=e.configurationProfile,w=e.preferences,S=[],k=[];function I(e){var t={id:e.metricId.toString(),text:e.metricName};S.push(t);var n,i=(0,r.Z)(e.childMetrics);try{var o=function(){var t=n.value,r={id:e.metricId.toString()+t.metricId.toString(),from:t.metricId.toString(),to:e.metricId.toString()};C&&(r.text=w.find((function(e){return e.metricId===t.metricId})).weight),k.push(r),I(t)};for(i.s();!(n=i.n()).done;)o()}catch(l){i.e(l)}finally{i.f()}}(0,o.useEffect)((function(){if(I(n),C){var e=S.find((function(e){return parseInt(e.id)===n.metricId}));e.text=e.text.split("\n")[0]+"\n"+w.find((function(t){return t.metricId===parseInt(e.id)})).weight}m(S),Z(k),y(!0)}),[n]),(0,o.useEffect)((function(){void 0!==M.current&&M.current.addEventListener("wheel",P,{passive:!1})}),[E]);var R=function(){A.current.zoomIn()},N=function(){A.current.zoomOut()};function P(e){!0===e.ctrlKey&&(e.preventDefault(),e.wheelDelta<0?N():R())}function O(e,t){var n,i=JSON.parse(JSON.stringify(j)),o=!1,l=(0,r.Z)(i);try{for(l.s();!(n=l.n()).done;){var s=n.value;if(s.id.endsWith(e)){o=!0,s.text=t,Z(i),A.current.fitCanvas();break}}}catch(u){l.e(u)}finally{l.f()}if(!o){var c=JSON.parse(JSON.stringify(g)),a=c.find((function(t){return parseInt(t.id)===e}));a.text=a.text.split("\n")[0]+"\n"+t,m(c)}}return(0,o.useImperativeHandle)(t,(function(){return{updateWeightsHandler:O}})),!0===E?(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{children:(0,u.jsxs)("p",{style:{marginBottom:"5px"},align:"right",children:[(0,u.jsx)(s.Z,{icon:!0,color:"blue",onClick:R,children:(0,u.jsx)(c.Z,{name:"zoom-in"})}),(0,u.jsx)(s.Z,{icon:!0,color:"blue",onClick:N,children:(0,u.jsx)(c.Z,{name:"zoom-out"})})]})}),(0,u.jsx)("div",{ref:M,children:(0,u.jsx)(l.Canvas,{disabled:!0,arrow:null,height:e.height,width:e.width,nodes:g,edges:j,readonly:!0,animated:!1,direction:"UP",ref:A,fit:!0,minZoom:-.9,zoomable:!1,node:(0,u.jsx)(l.Node,{style:{stroke:"black",fill:"#ffe6cc",strokeWidth:3},label:(0,u.jsx)(d,{node:!0})}),edge:(0,u.jsx)(l.Edge,{style:{stroke:"black",strokeWidth:2},label:(0,u.jsx)(d,{node:!1})})})})]}):(0,u.jsx)(a.Z,{active:!0,inline:"centered",children:" Constructing tree "})}var h=(0,o.forwardRef)(f)}}]);
//# sourceMappingURL=996.1878fb7f.chunk.js.map